<%- include('partials/nav-header'); -%>

<div class="module">
    <div class="row">
    <div class="panel margin-top-m">
        <h3>Mise à jour de mes informations</h3>

        <div class="beta-banner"></div>

        <form action="/account/info" method="POST" onsubmit="event.submitter && (event.submitter.disabled = true);">
            <h4>Tes infos persos</h4>

            <div class="form__group">
                <p>
                    
                </p>
                <div class="form__group">
                    <label for="gender">
                        <strong>Genre</strong><br />
                        Cette informations est utilisée uniquement pour faire des statistique et afficher null part.
                    </label>
                    <select name="gender" placeholder="Sélectionne une valeur" required>
                        <!-- <option value=""></option> -->
                        <% [{
                            key: 'female',
                            name: "Feminin"
                        },{
                            key: 'male',
                            name: "Masculin"
                        },{
                            key: 'nb',
                            name: "Non-binaire"
                        }, {
                            key: 'nps',
                            name: "Ne se prononce pas"
                        }].forEach(function(gender) { %>
                            <option value="<%= gender.key %>" <%= (gender.key === formData.gender) ? 'selected' : '' %>><%= gender.name %></option>
                        <% }) %>
                    </select>
                    <% if(formValidationErrors['domaine']) { %>
                      <p class="text-small text-color-red"><%= formValidationErrors['gender'] %></p>
                    <% } %>
                </div>
            </div>

            <div class="form__group">
                <label for="workplace_insee_code">
                    <strong>Lieu de travail</strong><br />
                    Cette information est utilisé pour faire une carte des membres de la communauté 
                    <input
                        placeholder="Commune ou code postale"
                        type="text"
                        value="<%= formData.workplace_insee_code %>"
                        id="input-commune" onkeyup="searchCommunes(event)">
                    <input
                        name="workplace_insee_code"
                        type="text" id="input-insee-code" value="" hidden>
                    <ul id="list-container-city"
                    >
                    </ul>
                </label>
            </div>

            <div class="form__group">
                <label for="tjm">
                    <strong>TJM moyen ht</strong><br />
                    Cette informations est utilisée uniquement pour faire des statistique et afficher null part.
                    <input
                        value="<%= formData.tjm %>"
                        id="tjm" name="tjm" type="number" placeholder="TJM moyen ht en euros">
                </label>
            </div>
            <div class="form__group">
                <label for="legal_status">
                    <strong>Statut legal de ton entreprise</strong><br />
                </label>
                <% statusOptions.forEach(function(legal_status) { %>
                    <input type="radio" name="legal_status" value="<%= legal_status %>" <%= (legal_status === formData.legal_status) ? 'checked' : '' %> required><%= legal_status %><br>
                <% }) %>
                <% if(formValidationErrors['statut']) { %>
                  <p class="text-small text-color-red"><%= formValidationErrors['statut'] %></p>
                <% } %>
            </div>
            <!-- <div class="form__group">
                <label for="startup">
                    <strong>Startup d'État</strong><br />
                    Laisser vide si elle n'apparaît pas. Tu pourras modifier ton profil plus tard.
                </label>
                <select name="startup">
                    <option value=""></option>
                    <% startups.forEach(function(startup) { %>
                        <option value="<%= startup.id %>" <%= (startup.id === formData.startup) ? 'selected' : '' %>><%= startup.attributes.name %></option>
                    <% }) %>
                </select>
            </div> -->
            <button class="button" type="submit">Soumettre ma demande</button>
        </form>
    </div>
</div>
</div>
<%- include('partials/nav-footer'); -%>
<script src="/static/scripts/searchCommune.js"></script>
